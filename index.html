 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>UrbanGrow - Smart Assistant for Urban Gardeners</title>
  <link rel="stylesheet" href="style.css" onerror="console.error('‚ùå style.css not found')" />
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
  <header>
    <div class="header-left">
      <button id="home-btn" class="nav-button">üè† Home</button>
      <div class="logo">üåø UrbanGrow</div>
    </div>
    <div class="header-center">
      <input type="text" id="search-bar" placeholder="Search for plants..." />
      <button id="camera-btn" class="nav-button">üì∑</button>
    </div>
    <div class="header-right" id="header-right">
      <!-- Dynamic: Login/SignUp or Dashboard -->
    </div>
  </header>

  <main>
    <section id="welcome">
      <h1>Welcome to Your Urban Garden</h1>
      <p>Your smart assistant for plant care and gardening success</p>
    </section>

    <section id="features">
      <div class="feature">
        <a href="#" class="feature-link" id="add-plant-btn">
          <span class="icon">‚ûï</span>
          <h2>Add a Plant</h2>
        </a>
        <p>Add a plant present in your garden</p>
      </div>
      <div class="feature">
        <a href="#" class="feature-link">
          <span class="icon">üì∑</span>
          <h2>Identify Plant</h2>
        </a>
        <p>Take a photo to identify your plant</p>
      </div>
      <div class="feature">
        <a href="#" class="feature-link">
          <span class="icon">üå±</span>
          <h2>My Garden</h2>
        </a>
        <p>View and manage your plants</p>
      </div>
      <div class="feature">
        <a href="reminders.html" class="feature-link">
          <span class="icon">üîî</span>
          <h2>Set Reminders</h2>
        </a>
        <p>Schedule plant care tasks</p>
      </div>
      <div class="feature">
        <a href="plants.html" class="feature-link">
          <span class="icon">üå±</span>
          <h2>Growing Guides</h2>
        </a>
        <p>Watch tutorials on growing plants</p>
      </div>
      <div class="feature">
        <a href="#" class="feature-link">
          <span class="icon">üí¨</span>
          <h2>AI Assistant</h2>
        </a>
        <p>Ask gardening questions</p>
      </div>
    </section>

    <!-- üåø Reminder Feature Starts Here -->
    <section id="reminder-feature" style="border: 1px solid #ccc; padding: 20px; margin: 20px 0; border-radius: 8px; background: #f9f9f9; font-family: Arial, sans-serif; font-size: 14px;">
      <h2 style="font-size: 1.2em; font-weight: bold; margin-bottom: 10px;">üîî Set a Plant Reminder</h2>
      <label for="plantName" style="font-size: 14px; color: #333;">Plant Name:</label>
      <input type="text" id="plantName" placeholder="e.g. Basil" style="font-size: 14px;" />

      <label for="task" style="font-size: 14px; color: #333;">Task:</label>
      <select id="task" style="font-size: 14px;">
        <option value="Water">Water</option>
        <option value="Fertilize">Fertilize</option>
        <option value="Pesticide">Pesticide</option>
        <option value="Cutting">Cutting</option>
      </select>

      <label for="frequency" style="font-size: 14px; color: #333;">Reminder Frequency:</label>
      <select id="frequency" style="font-size: 14px;">
        <option value="Once">Once</option>
        <option value="Weekly">Weekly</option>
        <option value="Monthly">Monthly</option>
      </select>

      <label for="reminderTime" style="font-size: 14px; color: #333;">Set Time:</label>
      <input type="time" id="reminderTime" style="font-size: 14px;" />

      <button onclick="setReminder()" class="nav-button">Set Reminder</button>
      <audio id="alarmSound" src="alarm.mp3" preload="auto" onerror="console.error('‚ùå alarm.mp3 not found')"></audio>
    </section>
    <!-- üåø Reminder Feature Ends Here -->

    <section id="info-cards">
      <div class="info-card">
        <h3>Recent Identifications</h3>
        <div class="info-item">
          <img src="snakeplant.webp" alt="placeholder" width="50" height="50">
          <div>
            <strong>Snake Plant</strong><br />
            Identified 2 days ago
          </div>
        </div>
      </div>
      <div class="info-card">
        <h3>Today's Tasks</h3>
        <div class="info-item">
          
          <img src="cherrytomato.webp" alt="placeholder" width="50" height="50">
          <div>
            <strong>Water Cherry Tomato</strong><br />
            Due in 2 hours
          </div>
        </div>
      </div>
      <div class="info-card">
        <h3>Plant Health</h3>
        <div class="health-stats">
          <div><strong>0</strong><br />Healthy</div>
          <div><strong>0</strong><br />Needs Attention</div>
        </div>
      </div>
    </section>
  </main>                               

  <script>
    // Auth check
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    if (!currentUser) {
      window.location.href = 'login.html';
    } else {
      // Update header for logged in
      const headerRight = document.getElementById('header-right');
      headerRight.innerHTML = `<a href="dashboard.html" class="nav-button">Dashboard</a> <div class="account-dropdown" id="account-name">${currentUser.name} ‚ñº</div><div class="dropdown-menu" id="dropdown-menu" style="display:none; position:absolute; background:white; border:1px solid #ccc; padding:10px; z-index:1000;"><button onclick="logout()">Log Out</button><button onclick="profile()">Profile</button><button onclick="switchUser()">Switch User</button></div>`;
      // Add event listener for dropdown
      document.getElementById('account-name').addEventListener('click', function() {
        const menu = document.getElementById('dropdown-menu');
        menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
      });
    }

    function logout() {
      localStorage.removeItem('currentUser');
      window.location.href = 'login.html';
    }

    function profile() {
      window.location.href = 'profile.html';
    }

    function switchUser() {
      logout();
    }

    function setReminder() {
      const plant = document.getElementById('plantName').value;
      const task = document.getElementById('task').value;
      const frequency = document.getElementById('frequency').value;
      const time = document.getElementById('reminderTime').value;

      if (!plant || !time) {
        alert("Please enter plant name and time.");
        return;
      }

      alert(`Reminder set for ${task} ${plant} (${frequency}) at ${time}`);

      const now = new Date();
      const [hours, minutes] = time.split(":");
      const reminderTime = new Date();
      reminderTime.setHours(hours, minutes, 0, 0);

      let delay = reminderTime - now;
      if (delay < 0) delay += 86400000; // next day

      setTimeout(() => {
        document.getElementById('alarmSound').play();
        alert(`‚è∞ Time to ${task} your ${plant}!`);
      }, delay);
    }
  </script>
  
</body>
</html>
